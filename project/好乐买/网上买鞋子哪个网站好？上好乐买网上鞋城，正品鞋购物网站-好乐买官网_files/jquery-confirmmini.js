(function(a){a.fn.confirmmini=function(b){return this.each(function(){var h=b.e;var e;var g=true;var d=a(this);var f={msg:"确定要删除么?",onOK:function(i){g=false;g=true},checkConditions:function(){return true}};if(typeof b!="object"){e=a.extend({},f)}else{e=a.extend({},f,b)}if(g){if(e.checkConditions.call()){if(e.before!=undefined){e.before(h);if(e.before(h)!=false){c(h)}}else{c(h)}}}function c(j){var l=j;var i="";a("#confirmDiv").unbind().remove();i+='<p class="msg">'+e.msg+"</p>";i+='<span class="arrow"><i class="a1">◆</i><i class="a2">◆</i></span><p class="ops"><span class="ok">确定</span> | <span class="cancel">取消</span></p>';a('<div id="confirmDiv" />').append(i).css({left:l.offset().left+l.width()/2-27,top:l.offset().top+25,display:"none",position:"absolute"}).appendTo("body").fadeIn();var k=setTimeout(function(){a("#confirmDiv").unbind().remove()},3000);a("#confirmDiv").hover(function(m){clearTimeout(k)},function(m){k=setTimeout(function(n){a("#confirmDiv").unbind().remove()},3000)});a("body").delegate("#confirmDiv .ok","click",function(){a("#confirmDiv").remove();e.onOK(j)});a("body").delegate("#confirmDiv .cancel","click",function(){a("#confirmDiv").remove();if(e.onCancel!=undefined){e.onCancel(j)}})}})}})(jQuery);