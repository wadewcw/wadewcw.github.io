var scrolltotop={setting:{startline:100,scrollto:0,scrollduration:50,fadeduration:[500,100]},controlattrs:{offsetx:140,offsety:50},anchorkeyword:"#top",state:{isvisible:false,shouldvisible:false},scrollup:function(){if(!this.cssfixedsupport){this.$control.hide()}var a=isNaN(this.setting.scrollto)?this.setting.scrollto:parseInt(this.setting.scrollto);if(typeof a=="string"&&jQuery("#"+a).length==1){a=jQuery("#"+a).offset().top}else{a=0}this.$body.animate({scrollTop:a},this.setting.scrollduration)},keepfixed:function(){var c=jQuery(window);var b=c.scrollLeft()+c.width()-this.$control.width()-this.controlattrs.offsetx;var a=c.scrollTop()+c.height()-this.$control.height()-140-this.controlattrs.offsety;if(a>($(document).height()-560)){a=$(document).height()-560}this.$control.css({left:"50%",top:a+"px"})},togglecontrol:function(){var a=jQuery(window).scrollTop();if(!this.cssfixedsupport){this.keepfixed()}this.state.shouldvisible=(a>=this.setting.startline)?true:false;if(this.state.shouldvisible&&!this.state.isvisible){this.$control.stop().fadeIn(200);this.state.isvisible=true}else{if(this.state.shouldvisible==false&&this.state.isvisible){this.$control.stop().fadeOut(200);this.state.isvisible=false}}},init:function(a){jQuery(document).ready(function(d){var b=scrolltotop;var c=document.all;b.cssfixedsupport=!c||c&&document.compatMode=="CSS1Compat"&&window.XMLHttpRequest;b.$body=(window.opera)?(document.compatMode=="CSS1Compat"?d("html"):d("body")):d("html,body");b.$control=d(a).css({position:b.cssfixedsupport?"fixed":"absolute",left:"50%",marginLeft:"615px",display:"none",bottom:"100px",cursor:"pointer"});if(document.all&&!window.XMLHttpRequest&&b.$control.text()!=""){b.$control.css({width:b.$control.width()})}b.togglecontrol();d(a+" .top").click(function(f){f.preventDefault();b.scrollup();return false});d(window).bind("scroll resize",function(h){b.togglecontrol();var g;var f=d(document).scrollTop()+d(window).height()-d(".footer").offset().top;if(f>0){d(a).css({bottom:function(){_bottom=f+20;d(a).css({bottom:_bottom})}})}else{d(a).css({bottom:70})}})})}};window.scrolltotop=scrolltotop;